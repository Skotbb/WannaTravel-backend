{"version":3,"sources":["../../models/db.js"],"names":["mongoose","require","dbURI","connect","connection","on","console","log","err","process","close","exit"],"mappings":";;AAEA;;AAFA;AACA,IAAIA,WAAWC,QAAS,UAAT,CAAf;;;AAKA;AACA,IAAIC,6DAAJ;;AAEA;AACAF,SAASG,OAAT,CAAiBD,KAAjB;;AAEA;AACA;AACAF,SAASI,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAY;AAC/CC,SAAQC,GAAR,CAAY,yCAAyCL,KAArD;AACA,CAFD;;AAIA;AACAF,SAASI,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAA+B,UAAUG,GAAV,EAAe;AAC7CF,SAAQC,GAAR,CAAY,wCAAwCC,GAApD;AACA,CAFD;;AAIA;AACAR,SAASI,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC,YAAY;AAClDC,SAAQC,GAAR,CAAY,0CAAZ;AACA,CAFD;;AAIA;AACAE,QAAQJ,EAAR,CAAW,QAAX,EAAqB,YAAW;AAC/BL,UAASI,UAAT,CAAoBM,KAApB,CAA0B,YAAY;AACrCJ,UAAQC,GAAR,CAAY,kEAAZ;AACAE,UAAQE,IAAR,CAAa,CAAb;AACA,EAHD;AAIA,CALD;;AAOA;AACAV,QAAQ,QAAR;AACAA,QAAQ,WAAR;AACAA,QAAQ,UAAR","file":"db.js","sourcesContent":["// Bring Mongoose into the app\r\nvar mongoose = require( 'mongoose' );\r\nimport { databaseName } from '../travel-settings'\r\n\r\n\r\n\r\n// Build the connection string\r\nvar dbURI = `mongodb://localhost/${databaseName}`;\r\n\r\n// Create the database connection\r\nmongoose.connect(dbURI);\r\n\r\n// CONNECTION EVENTS\r\n// When successfully connected\r\nmongoose.connection.on('connected', function () {\r\n\tconsole.log('Mongoose default connection open to ' + dbURI);\r\n});\r\n\r\n// If the connection throws an error\r\nmongoose.connection.on('error',function (err) {\r\n\tconsole.log('Mongoose default connection error: ' + err);\r\n});\r\n\r\n// When the connection is disconnected\r\nmongoose.connection.on('disconnected', function () {\r\n\tconsole.log('Mongoose default connection disconnected');\r\n});\r\n\r\n// If the Node process ends, close the Mongoose connection\r\nprocess.on('SIGINT', function() {\r\n\tmongoose.connection.close(function () {\r\n\t\tconsole.log('Mongoose default connection disconnected through app termination');\r\n\t\tprocess.exit(0);\r\n\t});\r\n});\r\n\r\n// BRING IN YOUR SCHEMAS & MODELS // For example\r\nrequire('./city')\r\nrequire('./country')\r\nrequire('./flight')"]}